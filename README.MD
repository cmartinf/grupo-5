# üì∞ MANAGER_NEWS - Portal Editorial de Noticias

Trabajo Final - Programaci√≥n de Vanguardia  
Universidad de la Ciudad de Buenos Aires  
Grupo 5  

---

## 1. Descripci√≥n del Sistema

MANAGER NEWS es una plataforma editorial de noticias desarrollada con arquitectura desacoplada. Les permite a los usuarios consultar art√≠culos filtrados por categor√≠a, tendencias o etiquetas, y a los administradores gestionar el contenido desde un panel seguro.

### Problema Detectado
Muchos portales informativos no ofrecen filtros √∫tiles, interfaces limpias ni una gesti√≥n intuitiva del contenido.

### Soluci√≥n Propuesta
Desarrollar un sistema moderno, desacoplado, con:
- Navegaci√≥n intuitiva y visualmente atractiva.
- CRUD de noticias, autores y etiquetas para administradores.
- Roles diferenciados (usuarios, administradores).
- Seguridad y arquitectura modular.

### Tipos de Usuarios
- **Lectores:** Consultan noticias, acceden a detalles, filtran por tags o categor√≠as.
- **Admins:** Autenticados, crean/eliminan/actualizan noticias, administran autores y etiquetas.

---

## 2. Arquitectura Propuesta

![Diagrama de Arquitectura](./docs/arquitectura.jpeg)

- **Frontend:** SPA hecha con Vue.js 3.
- **Backend:** API REST desarrollada en Laravel 11.
- **Comunicaci√≥n:** Axios HTTP.
- **Base de datos:** MySQL.
- **Repositorio:** `grupo-5`  
  - `/FrontEnd` ‚Üí Vue  
  - `/BackEnd` ‚Üí Laravel

### Decisiones Tecnol√≥gicas
- Laravel + Breeze ‚Üí autenticaci√≥n r√°pida y segura.
- Vue 3 + Router ‚Üí SPA modular y r√°pida.
- Axios ‚Üí llamadas asincr√≥nicas al backend.
- Bootstrap 5 ‚Üí dise√±o adaptable.

---

## 3. Frontend

- **Tecnolog√≠a:** Vue.js 3 (SPA)
- **Consumo de API:** Axios
- **Componentes:**  
  - `Home.vue`, `AdminLogin.vue`, `NewsArticle.vue`  
  - `components/` ‚Üí `Footer.vue`, `TopHeader.vue`, `NewsDetails.vue`, etc.
- **Flujo de navegaci√≥n:**  
  1. Landing con secciones (carousel, destacados, recientes).
  2. Filtrado por etiquetas y categor√≠as.
  3. Vista de detalle de cada art√≠culo.

---

## 4. Backend

- **Framework:** Laravel 11
- **Controladores RESTful:**
  - `NewsController`, `AuthorController`, `TagController`, `CategoryController`, etc.
- **Endpoints clave:**
  - `GET /api/news`  
  - `POST /api/news`  
  - `PUT /api/news/{id}`  
  - `DELETE /api/news/{id}`  
- **Principios aplicados:**
  - MVC
  - SOLID
  - Middleware por roles
  - Validaci√≥n con Form Requests

---

### 5. Testing

El proceso de testing es fundamental para garantizar la calidad, estabilidad y seguridad del sistema. En el proyecto MANAGER_NEWS se han implementado pruebas en ambos extremos de la arquitectura desacoplada: backend y frontend.

#### Backend

- **PHPUnit:** Framework utilizado para la realizaci√≥n de pruebas unitarias y de integraci√≥n en el backend desarrollado con Laravel.  
  - **Pruebas unitarias:** Validan la l√≥gica interna de los modelos, controladores y servicios, asegurando que cada componente individual funcione correctamente.  
  - **Pruebas de integraci√≥n:** Eval√∫an la interacci√≥n entre m√∫ltiples componentes, por ejemplo, el correcto manejo de peticiones y respuestas, y la comunicaci√≥n con la base de datos.

#### Frontend

- **Jest y Vue Test Utils:** Herramientas seleccionadas para la ejecuci√≥n de pruebas unitarias y de integraci√≥n en el frontend desarrollado con Vue.js.  
  - **Pruebas unitarias:** Validan el comportamiento de componentes individuales, funciones y m√©todos.  
  - **Pruebas de integraci√≥n:** Comprueban la interacci√≥n entre componentes, as√≠ como el correcto consumo de endpoints mediante Axios.

#### Tipos de pruebas implementadas

- **Pruebas Unitarias:** Focalizadas en validar la funcionalidad aislada de m√≥dulos, clases o funciones para detectar errores en la l√≥gica interna.  
- **Pruebas de Integraci√≥n:** Evaluaci√≥n conjunta de varios componentes para verificar su correcto funcionamiento en conjunto.  
- **Pruebas Funcionales (opcional):** Simulaci√≥n del comportamiento del usuario y flujos completos dentro de la aplicaci√≥n para asegurar que los casos de uso est√©n cubiertos.

---

### 6. Entorno de Producci√≥n

Para el despliegue y operaci√≥n del proyecto MANAGER NEWS en un entorno productivo se pensaron en las siguientes herramientas y configuraciones:

#### Infraestructura

- **Backend:** Desplegado en plataformas cloud como **Heroku** o **DigitalOcean** (sugerido), que ofrecen escalabilidad y estabilidad.  
- **Frontend:** Hospedado en servicios especializados para aplicaciones est√°ticas o SPA como **Vercel** o **Netlify**, optimizados para Vue.js.

#### Integraci√≥n Continua y Despliegue (CI/CD)

- **GitHub Actions:** Configurado para automatizar la instalaci√≥n de dependencias, ejecuci√≥n de pruebas (testing) y despliegue autom√°tico en cada push a ramas espec√≠ficas (ej. `main` o `production`).  
- Esto asegura que cada cambio en el c√≥digo pase por validaciones antes de ser publicado en producci√≥n, garantizando calidad y minimizando errores en el despliegue.

#### Configuraci√≥n y Variables de Entorno

- **Frontend:** Uso de un archivo `.env` en Vue para definir la URL del backend en producci√≥n (API REST), asegurando que las peticiones apunten al entorno correcto.  
- **Backend:** Archivo `.env` en Laravel configurado con los datos de conexi√≥n a la base de datos productiva y otras variables sensibles (clave de API, configuraci√≥n mail, etc.), manteniendo la seguridad y separaci√≥n de entornos.


## üåê Acceso p√∫blico seguro con Cloudflare Tunnel

Durante el desarrollo del proyecto, utilizamos **Cloudflare Tunnel (`cloudflared`)** para exponer de forma segura tanto el frontend como el backend en la web, sin necesidad de abrir puertos en el router ni contar con una IP fija.

Esto permite al equipo trabajar desde distintas ubicaciones y mostrar el proyecto en tiempo real desde una computadora local.

### ¬øC√≥mo lo usamos?

Un script Bash automatiza el proceso:

   ```bash
   #!/bin/bash

echo "Iniciando Laravel..."
cd /grupo-5/BackEnd
php artisan serve &

echo "Iniciando Vue..."
cd /grupo-5/FrontEnd
npm run dev &

echo "Esperando 5 segundos..."
sleep 5

echo "Iniciando Cloudflared..."
cloudflared tunnel --url http://localhost:5173
   ```

Cada ejecuci√≥n genera una URL temporal del tipo:

https://xxxxx.trycloudflare.com


Esto es ideal para pruebas, revisiones en tiempo real y presentaciones acad√©micas, sin necesidad de desplegar el proyecto en un servidor p√∫blico.

### üü¢ Beneficios del uso de Cloudflare Tunnel

- ‚úÖ **HTTPS autom√°tico** (sin necesidad de certificados ni configuraci√≥n extra)
- üåç **Acceso inmediato y remoto** desde cualquier lugar
- üîí **Sin puertos abiertos** en el router ni exposici√≥n directa a Internet
- ‚ö° **R√°pido, seguro y gratuito**
- üí° Perfecto para **trabajo colaborativo y presentaciones** sin infraestructura compleja
---

## 7. Seguridad

### Medidas de seguridad implementadas

- Autenticaci√≥n y autorizaci√≥n (Laravel Breeze)
- Hash de contrase√±as (bcrypt por defecto en Laravel)
- Validaci√≥n de datos en backend (Form Requests y validaciones en controladores)
- Protecci√≥n contra SQL Injection (Eloquent ORM)
- Prevenci√≥n de XSS en frontend (Vue.js)
- Protecci√≥n CSRF en rutas web (Laravel)

### Recomendaciones adicionales (a implementar seg√∫n el entorno)

- Configuraci√≥n de CORS personalizada
- Middleware de rate limiting
- Uso de HTTPS en producci√≥n
- Actualizaci√≥n peri√≥dica de dependencias
- Monitoreo y logs de seguridad
- Almacenamiento seguro de tokens (cookies httpOnly)

---

## 8. Comunicaci√≥n Frontend ‚Üî Backend con Axios

### üîÅ Flujo de una solicitud t√≠pica

![Diagrama de Arquitectura](./docs/axios.svg)

## 9. Instalaci√≥n del Proyecto

### üîß Requisitos Previos
- Node.js, npm
- PHP >= 8.1
- Composer
- MySQL
- Git

### üìÅ Clonar repositorio
```bash
git clone https://github.com/cmartinf/grupo-5
cd grupo-5

```

### Backend (Laravel) Setup
1. Navegar al directorio de Laravel:
   ```bash
   cd BackEnd
   ```

2. Instalar las dependencias:
   ```bash
   composer install
   ```

3. Copiar el archivo `.env.example` a `.env` y configurar las variables de entorno:
   ```bash
   cp .env.example .env
   php artisan key:generate
   ```

4. Configurar el archivo `.env`:
   - Establece las credenciales de la base de datos: :
     ```
     DB_CONNECTION=mysql
     DB_HOST=127.0.0.1
     DB_PORT=3306
     DB_DATABASE=news_portal
     DB_USERNAME=root
     DB_PASSWORD=your_password
     ```

5. Correr las migraciones y seeders:
   ```bash
   php artisan migrate --seed
   ```

6. El servidor de Laravel en el backend:
   ```bash
   php artisan serve
   ```
   The backend will run at `http://127.0.0.1:8000`.

---

### Frontend (Vue.js) Setup
1. Navegar hasta el directorio Vue.js:
   ```bash
   cd FrontEnd
   ```

2. Instalar las dependencias:
   ```bash
   npm install
   ```

3. Copiar el archivo `.env.example` a `.env`:
   ```bash
   cp .env.example .env
   ```

4. Configurar la URL del backend en `.env`:
   ```bash
   VITE_APP_API_URL=http://127.0.0.1:8000
   ```

5. Iniciar el servidor de desarrollo:
   ```bash
   npm run dev
   ```
   The frontend will run at `http://127.0.0.1:5173`.

---

## Ejecutar la aplicaci√≥n
- Asegurarse que los servidores **backend** y **frontend** est√©n funcionando:
  - BackEnd: `php artisan serve`
  - FrontEnd: `npm run dev`
  
- Acceso a la aplicaci√≥n por **frontend URL** (`http://127.0.0.1:5173`).

## Utilizar scripts START.SH:

Si al instalar y probar que todo funciona en local podemos ejecutar START.SH de la siguiente manera:

```bash
   ./start.sh
   ```
---

## 10. Troubleshooting (Soluci√≥n de Problemas Comunes)

A continuaci√≥n se agrega una lista con algunos problemas frecuentes durante la instalaci√≥n y su posible soluci√≥n:

### ‚ùó Error: "Could not find driver" (al correr migraciones en Laravel)
- **Causa:** Falta la extensi√≥n de PHP para MySQL.
- **Soluci√≥n:**  
  Instala la extensi√≥n ejecutando:
  ```bash
  sudo apt install php-mysql
  ```
  Luego reinicia el servidor web o el servicio PHP.

---

### ‚ùó Error: "SQLSTATE[HY000] [1045] Access denied for user"
- **Causa:** Credenciales incorrectas en el archivo `.env` de Laravel.
- **Soluci√≥n:**  
  Verifica que los valores de `DB_USERNAME` y `DB_PASSWORD` coincidan con los de tu base de datos MySQL.

---

### ‚ùó Error: "npm: command not found" o "node: command not found"
- **Causa:** Node.js y npm no est√°n instalados.
- **Soluci√≥n:**  
  Instala Node.js y npm:
  ```bash
  sudo apt install nodejs npm
  ```

---

### ‚ùó Error: "Port already in use" (puerto ocupado)
- **Causa:** El puerto necesario ya est√° siendo usado por otro proceso.
- **Soluci√≥n:**  
  - Cambia el puerto en el comando de inicio (`php artisan serve --port=8001` o `npm run dev -- --port=5174`).
  - O libera el puerto matando el proceso que lo usa:
    ```bash
    sudo lsof -i :8000
    sudo kill -9 <PID>
    ```

---

### ‚ùó Error: "Permission denied" al instalar dependencias
- **Causa:** Falta de permisos en la carpeta del proyecto.
- **Soluci√≥n:**  
  Ejecuta el comando con `sudo` o cambia los permisos de la carpeta:
  ```bash
  sudo chown -R $USER:$USER /ruta/al/proyecto
  ```

---

### ‚ùó Problemas con variables de entorno
- **Causa:** El archivo `.env` no est√° configurado correctamente o falta.
- **Soluci√≥n:**  
  - Aseg√∫rate de copiar `.env.example` a `.env` y completar los valores necesarios.
  - Reinicia los servidores despu√©s de modificar `.env`.

---

Si encuentras otros problemas, revisa la documentaci√≥n oficial de [Laravel](https://laravel.com/docs) y [Vue.js](https://vuejs.org/guide/), o abre un issue en el repositorio.

---



